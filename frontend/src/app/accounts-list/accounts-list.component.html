<div class="container">
  <p>All accounts from secure (admin only) api end point:</p>
  <a mat-flat-button routerLink="add" color="primary">Create Account</a>

  <table mat-table [dataSource]="accounts" class="mat-elevation-z8">
      <!-- Last Name Column -->
      <ng-container matColumnDef="lastName">
          <th mat-header-cell *matHeaderCellDef>LastName</th>
          <td mat-cell *matCellDef="let account"> {{account.lastName}} </td>
      </ng-container>

      <!-- First Name Column -->
      <ng-container matColumnDef="firstName">
          <th mat-header-cell *matHeaderCellDef>FirstName</th>
          <td mat-cell *matCellDef="let account"> {{account.firstName}} </td>
      </ng-container>

      <!-- Email Column -->
      <ng-container matColumnDef="email">
          <th mat-header-cell *matHeaderCellDef>Email</th>
          <td mat-cell *matCellDef="let account"> {{account.email}} </td>
      </ng-container>

      <!-- Role Column -->
      <ng-container matColumnDef="role">
          <th mat-header-cell *matHeaderCellDef>Role</th>
          <td mat-cell *matCellDef="let account"> {{account.role}} </td>
      </ng-container>

      <!-- Action Column -->
      <ng-container matColumnDef="action">
          <th mat-header-cell *matHeaderCellDef>Action</th>
          <td mat-cell *matCellDef="let account" class="action-link">
              <a mat-flat-button routerLink="edit/{{account.id}}">Edit</a>
              <button mat-flat-button (click)="deleteAccount(account.id)" [disabled]="account.isDeleting">
                  <span *ngIf="account.isDeleting"></span>
                  <span *ngIf="!account.isDeleting">Delete</span>
              </button>
          </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>
</div>
